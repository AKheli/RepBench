{#{% include "form.html" with button_label="Inject" id="injection_form" %}#}

<form class="kt-form" enctype="multipart/form-data" id="{{ form_id }}"
      onchange="return false"
      onsubmit="return false" {% if style %} style='{{ style }}'{% endif %}
>
    {% csrf_token %}
    <div class="kt-portlet__body{% if class %} {{ class }}{% endif %}">
        {#    {% render_form serializer %}#}
        {% for field in form.visible_fields %}
            <div class="form-group {{ style.class }}">
                <label>{{ field.label }}{% if True %}
                    <a href="#" class="btn" role="button" data-toggle="popover" data-placement="top"
                       title="Tooltip on top" data-trigger="focus" data-content="helptext" onclick="return false"><i
                            class="mdi mdi-information-outline mdi-18px"></i></a>{% endif %}

                </label>
                <!--check if field.field.widget.input_type is number todo check min and max-->
                {% if field.field.widget.input_type == 'number' %}
                    <input type="number" name="{{ field.name }}" value="{{ field.value }}" class="form-control"
                           placeholder="{{ field.label }}"
                           min={{ field.field.widget.minimum }} max={{ field.field.widget.max }} step="0.1">
                    <!--check if field.field.widget.input_type is select-->
                {% elif field.field.widget.input_type == 'select' %}
                    <select name="{{ field.name }}" class="form-control custom-select">
                        {% for v,e in field.field.widget.choices %}
                            <option value="{{ v }}">{{ e }}</option>
                        {% endfor %}
                    </select>

                {% elif field.field.widget.input_type == 'checkbox' %}
                    <input type="checkbox" name="{{ field.name }}" value="{{ field.value }}" class="form-control"
                           placeholder="{{ field.label }}">
                    <!--check if field.field.widget.input_type is date-->
                {% else %}

                    {{ field }}
                {% endif %}
            </div>

        {% endfor %}
        {% for hidden in form.hidden_fields %}
            {{ hidden }}
        {% endfor %}
        <div class="kt-portlet__foot">
                <button  class="btn btn-primary"
                         {% if onclick %}
                            onclick="{{ onclick }}"
                        {%  else %}
                            onclick="return false"
                         {% endif %}
                >

                    {{ button_label|default:"Apply" }}
                {{ onclick }}
                </button>
            </div>
    </div>
</form>
