{% extends "displayDataSetSynthetic.html" %}
{% load static %}


{% block blowChartContent %}
    <div class="row">
    <div id="rec_info" class="col-md-4">
        <div class="kt-portlet">
            <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                    <h3 class="kt-portlet__head-title"> Repair Recommendation </h3>
                </div>
                <div class="kt-portlet__head-toolbar">
                </div>
            </div>
            <div class="kt-portlet__body">
                <table style="border-spacing: 10px;">
                    <tr>
                        <td style="text-align:left; padding-right: 10px;">Recommend Algorithm</td>
                        <td style="text-align:left;" id="recommended_algorithm"></td>
                    </tr>
                    <tr>
                        <td style="text-align:left; padding-right: 10px;">Used Classifier</td>
                        <td style="text-align:left;" id="used_classifier"></td>
                    </tr>
                </table>
                <p> Algorithm classification using <a href="https://microsoft.github.io/FLAML/">FLAML autoML</a>
                    to
                    recommend the
                    most
                    suitable anomaly repair algorithm. </p>
                <p> Features from catch22, tsfresh and correlation values between the time series are used to
                    train
                    the
                    classifiers.
                </p>
                <p> The classifier options are lgbm, rf, xgboost, extra_tree, xgb_limitdepth and lrl1.
                </p>
                <h2>Dataset: {{ data_info.title }}</h2>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="kt-portlet">
            <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                    <h3 class="kt-portlet__head-title"> Classification Probabilities </h3>
                </div>
                <div class="kt-portlet__head-toolbar">
                </div>
            </div>
            <div class="kt-portlet__body">

                <div id="probabilities-chart" class="mybox-content"></div>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="kt-portlet">
            <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                    <h3 class="kt-portlet__head-title"> Scores for each Algorithm</h3>
                </div>
                <div class="kt-portlet__head-toolbar">
                </div>
            </div>
            <div class="kt-portlet__body">

                <div id="alg-scores-chart" class="mybox-content"></div>
            </div>
        </div>
    </div>
{% endblock %}



{% block js %}
    <script type="text/javascript">
        let recommendation_url = "{% url 'get_recommendation' setname=setname %}"
    </script>
    {#    <script src="{% static 'js/repair.js' %}" type="text/javascript"></script>#}
    <script src="{% static 'js/repBench/recommendation/recommendation_charts.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/repBench/recommendation/recommendation.js' %}" type="text/javascript"></script>

{% endblock %}